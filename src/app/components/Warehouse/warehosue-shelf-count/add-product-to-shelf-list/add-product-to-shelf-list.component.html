<main id="main" class="main">
  <section class="section">


    <div class="card custom-card mb-3">
      <div class="card-body d-flex justify-content-start mt-3" style="overflow-x: auto">
        <p-splitButton label="İşlemler" [model]="items" appendTo="body" />

      </div>
    </div>
    <div class="card">
      <p-table [value]="countList" [paginator]="true" [rows]="10" [tableStyle]="{ 'min-width': '25rem' }">
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="totalProduct">
              Adet
              <p-sortIcon field="totalProduct"></p-sortIcon>
              <p-columnFilter type="numeric" field="totalProduct" [showClearButton]="true"></p-columnFilter>
            </th>
            <th pSortableColumn="type">
              İşlem Tipi
              <p-sortIcon field="type"></p-sortIcon>
              <p-columnFilter type="text" field="type" [showClearButton]="true"></p-columnFilter>
            </th>
            <th pSortableColumn="createdDate">
              Oluşturulma Tarihi
              <p-sortIcon field="createdDate"></p-sortIcon>
              <p-columnFilter type="date" field="createdDate" [showClearButton]="true"></p-columnFilter>
            </th>
            <th pSortableColumn="isCompleted">
              Tamamlandı Mı
              <p-sortIcon field="isCompleted"></p-sortIcon>
              <p-columnFilter type="boolean" field="isCompleted" [showClearButton]="true"></p-columnFilter>
            </th>
            <th>İşlemler</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-count>
          <tr>
            <td>{{ count.totalProduct }}</td>
            <td>{{ count.type ? 'Ürün Ekle' : 'Ürün Çıkar' }}</td>
            <td>{{ count.createdDate | date:'dd/MM/yyyy' }}</td>
            <td>{{ count.isCompleted ? 'Evet' : 'Hayır' }}</td>
            <td>
              <div class="btn-group">
                <button class="btn btn-success"
                  [routerLink]="['/add-product-to-shelf', count.type,count.isCompleted, count.operationNumber]">
                  <i class="fa fa-bars" aria-hidden="true"></i>
                </button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>



    </div>

    <p-dialog header="Barkod Türü Seçiniz - {{ this.selectedOrderNo }}" [(visible)]="visible" [modal]="true"
      [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
      <button type="button" class="btn custom-btn-primary mt-3" (click)="this.sendBarcodesToNebim(true)">
        Koli
      </button>
      <button type="button" class="btn custom-btn-primary mt-3" (click)="this.sendBarcodesToNebim(false)">
        Barkod
      </button>
    </p-dialog>
  </section>
</main>
