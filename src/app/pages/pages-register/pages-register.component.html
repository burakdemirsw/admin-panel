<main id="main" class="main">
  <section class="section">
    <div class="card mb-3">
      <div class="card-body">
        <p-tabView>
          <p-tabPanel header="{{ isUpdate ? 'Hesap Güncelle' :  'Hesap Oluştur'}}">
            <form [formGroup]="registerForm">
              <div class="row">
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Ad" type="text" class="form-control" id="firstName" placeholder="Ad"
                      formControlName="firstName" />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Soyad" type="text" class="form-control" id="lastName"
                      formControlName="lastName" />
                  </div>
                </div>
              </div>

              <div class="row">
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Email" type="text" class="form-control" id="email"
                      placeholder="Email" formControlName="email" />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Telefon Numarası" type="text" class="form-control" id="phoneNumber"
                      formControlName="phoneNumber" />
                  </div>
                </div>
              </div>


              <div class="row">
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Şifre" type="password" class="form-control" id="password"
                      formControlName="password" />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Şifre Tekrar*" type="password" class="form-control"
                      id="confirmPassword" formControlName="confirmPassword" />
                  </div>
                </div>
              </div>



              <div class="row">
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Yazıcı Adı (1)" type="text" class="form-control" id="printerName_1"
                      formControlName="printerName_1" />
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Yazıcı Adı (2)" type="text" class="form-control" id="printerName_2"
                      formControlName="printerName_2" />
                  </div>
                </div>
              </div>



              <div class="row">
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <div class="mt-3"></div>
                    <p-dropdown placeholder="Satış Personel Kodu" formControlName="salesPersonCode"
                      [options]="salesPersonModelList" [(ngModel)]="selectedPerson" optionLabel="name" [filter]="true"
                      class="mt-3"></p-dropdown>
                  </div>
                </div>
                <div class="col-md-6">
                  <div class="form-group mb-3">
                    <input pInputText placeholder="Cinsiyet" type="text" class="form-control" id="gender"
                      placeholder="Cinsiyet" formControlName="gender" />
                  </div>
                </div>
              </div>
              <button class="btn btn-primary mt-3" status="success" (click)="submitForm()">
                {{ isUpdate ? "Kullanıcıyı Güncelle" : "Kullanıcı Ekle" }}
              </button>
            </form>
          </p-tabPanel>
          <p-tabPanel header="Depo">
            <form [formGroup]="registerForm">
              <div class="row">
                <div class="col-md-4">
                  <label for="officeCode">Ofis Kodu</label>

                  <select id="officeCode" class="form-control" formControlName="officeCode">
                    <option *ngFor="let g of warehouseOfficeModels" value="{{ g.officeCode}}">
                      {{g.officeCode}}</option>
                  </select>
                </div>
                <div class="col-md-4">
                  <label for="warehouseCode">Depo Kodu</label>
                  <select id="warehouseCode" class="form-control" formControlName="warehouseCode">
                    <option *ngFor="let g of warehouseOfficeModels" value="{{ g.warehouseCode}}">
                      {{g.warehouseDescription}}</option>
                  </select>
                </div>
                <div class="col-md-4">
                  <label for="sendAutoMail">Tüm Ofisleri Kullanabilir</label>
                  <p-inputSwitch id="isUseAllOffice" class="form-control" formControlName="isUseAllOffice" />
                </div>

              </div>

              <button class="btn btn-primary mt-3" status="success" (click)="submitForm()">
                {{ isUpdate ? "Kullanıcıyı Güncelle" : "Kullanıcı Ekle" }}
              </button>
            </form>
          </p-tabPanel>

          <p-tabPanel header="Rol">
            <div class="row">

              <div class="col-md-6">
                <button class="btn btn-primary" (click)="openModalForUser()">
                  Rol Ekle
                </button>
              </div>

            </div>

          </p-tabPanel>
        </p-tabView>


      </div>
    </div>

    <p-dialog header="{{ listHeader }} Kullanıcısına Rol Ata" [(visible)]="visible2" [style]="{ width: '50vw' }">
      <div class="dialog-content">
        <div class="card flex justify-content-center">
          <p-listbox #ms [options]="listItems" [(ngModel)]="selectedItems" optionLabel="label" [style]="{}"
            [virtualScroll]="true" [filter]="true" [virtualScrollItemSize]="50" [multiple]="true" [checkbox]="true"
            [showToggleAll]="false" [metaKeySelection]="false" [showToggleAll]="true"
            [listStyle]="{ 'max-height': '220px' }"></p-listbox>
        </div>
        <nb-card>
          <nb-card-body>
            <button class="btn btn-primary" (click)="assignRoleToUser()">Kaydet</button>
          </nb-card-body>
        </nb-card>
      </div>
    </p-dialog>

  </section>
</main>
